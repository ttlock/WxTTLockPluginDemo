# 版本更新说明 
## 3.1.0 
1. 增加重置密码功能  
2. 增加删除人脸功能  
3. 增加wifi锁省电模式设置功能  
4. 增加结束操作接口，优化设备连接，调整设备断连回调  
5. 错误码调整  
6. 删除固定数据导出，压缩插件大小  
7. 调整部分跨时区操作问题  
8. 基础库最低版本调整为3.0.2
9. 设置常开模式时将清空常开模式设置
10. 弱化部分参数校验  
11. 隐藏散列参数调用方法说明文档  

## 3.0.8 
1. 所有iOS设备升级时增加数据交互延迟  

## 3.0.7 
1. 兼容iOS 18设备下智能锁升级问题  

## 3.0.6 
1. 修复智能锁升级成功后无法接收到回调的问题  

## 3.0.5 
  1. 弱网状态下关闭小程序权限请求及跳转  

## 3.0.4 
  1. 修改蓝牙连接及权限判定，增加部分提示语
  2. 修改蓝牙权限判定，针对鸿蒙系统、小米等未开启附近设备权限优化提醒  
  3. 修复部分情况下无法退出操作的问题  
  4. 增加10042 - 10046错误码

## 3.0.3 
  1. 修复部分智能锁操作异常返回循环校验码错误的问题  

## 3.0.2 
  1. 修复S503智能锁无法正常开锁的问题  
  2. 修改连接方式，取消安卓设备扫描设备的要求  

## 3.0.1 
  1. 修复正常情况下无法退出忙碌模式的问题  

## 3.0.0 
  1. 接口调用参数增加对象模式
  2. 取消deviceId优化设定，此版本开始可不再传入该参数
  3. 首次操作安卓设备对象前进行设备扫描，降低安卓设备操作失败概率，安卓首次操作消耗时间可能增加
  4. stopAllOperations操作修改为不可打断正在进行连接操作的安卓设备，用于设备对象缓存清空和重置忙碌状态，操作后下一次操作链接设备前将进行设备扫描
  5. 允许自定义日志输出回调方法
  6. 部分固定参数已过期

## 2.9.3 
  1. 部分安卓设备连接超时无法生效，超时时间设置为30秒

## 2.9.2
  1. 增加小程序本身蓝牙授权相关错误码，未授权则跳转授权页（新增错误码10039）
  2. 删除安卓环境下蓝牙超时控制
  3. 增加部分错误码

## 2.9.1
  1. 智能锁固件升级后自动同步服务器

## 2.9.0
  1. 智能锁固件升级

## 2.8.7
  1. 修复常开模式时间设置不正确的问题

## 2.8.6
  1. 修改初始化智能锁时返回的lockData内置参数
  2. 修复锁声音无法设置为禁用的问题
  3. 修复初始化智能锁错误返回未进入初始化状态的问题

## 2.8.5
  1. 增加取电开关设置功能

## 2.8.4
  1. 增加音量设置及获取功能

## 2.8.3
  1. 修改网关版本号问题

## 2.8.2
  1. 增加常开模式、自动闭锁相关功能
  2. 增加密码、IC卡、指纹有效数据查询功能
  3. 简化日志内容
  4. 优化搜索设备超时时间，触发断连后不再重试
  5. 特征值解析增加返回参数
  6. 修改WIFI名称中文乱码问题

## 2.8.1
  1. 禁用原始回调方式
  2. 修改开锁时校准时间顺序
  3. 简化日志内容

## 2.8.0
  1. 删除已废弃参数及部分接口调用模式
  2. 简化操作，开锁时默认校准服务器时间
  3. 修改非管理员校准时间操作

## 2.7.9
  1. 智能锁开锁或闭锁时，如锁时间不正确则进行一次锁时间校准

## 2.7.8
  1. 管理员钥匙可开反锁

## 2.7.7
  1. 修改错误日志返回条件，错误时也返回已读取到的日志
  2. 修改在连接前设备断连即返回错误的情况 
  3. 增加智能锁部分情况下的断连重试
  4. 修改部分情况下设备无法连接的问题

## 2.7.6
  1. 新增WIFI锁相关功能
  2. 增加添加指纹、添加IC卡中间步骤提示
  3. 压缩插件包体积，增加部分蓝牙操作描述

## 2.7.5
  1. iOS微信未授权情况下，首次调用蓝牙请求一次权限

## 2.7.4
  1. 增加G3、G4网关支持
  2. 修改错误码描述 

## 2.7.3
  1. 增加获取锁开关状态接口 
  2. 修改部分定制智能锁版无法添加的问题 

## 2.7.2
  1. 删除定制智能锁板判断，由硬件控制 

## 2.7.1
  1. 删除设置锁时间有效期验证 

## 2.7.0
  1. 接口修改为异步回调方式，后续版本将删除部分接口callback返回模式
  2. 增加梯控设置接口
  3. 取消接口调用延迟要求
  4. 增加deviceId参数及接口，优化接口调用体验
  5. 增加部分固定参数，后续将删除部分固定参数，请及时更新
  6. 修复读取操作记录接口调用耗时过长的问题
  7. 修复部分更新接口返回的lockData可直接用于蓝牙操作的问题
  8. 修改获取锁版本接口，增加device传入模式及lockData传入模式
  9. 增加部分特征值解析参数及错误码，修改日志输出
  10. 修改停止操作接口
  11. 增加蓝牙及权限状态验证

## 2.6.3
  1. 增加恢复IC卡接口

## 2.6.2
  1. 兼容部分异常网关设备

## 2.6.1
  1. 修复部分情况下超时等待返回值问题
  2. 更改固件版本号等读取超时时间
  3. 修改网关操作错误状态返回位置

## 2.6.0
  1. 增加获取、修改管理员密码接口（离线版不支持）
  2. 增加添加网关及相关操作接口
  3. 修改部分错误日志描述

## 2.5.0
  1. 增加获取、设置智能锁开关属性配置接口及相关参数
  2. 增加特征值解析返回值属性
  3. 修改部分错误日志描述

## 2.4.1
  1. 修复部分手机设备扫描不到智能锁时无法正常退出操作的问题 
  2. 修改特征值解析接口，支持featureValue解析

## 2.4.0
  1. 增加酒店信息配置接口
  2. 增加酒店扇区配置接口
  3. 增加酒店设置相关的错误码
  4. 增加部分蓝牙操作相关提示语

## 2.3.1
  1. 修复部分情况下调用获取远程开锁开关状态接口可能导致锁数据不正确的问题
  2. 修复部分情况下调用设置远程开锁开关状态接口可能导致锁数据不正确的问题
  3. 修改远程开锁开关状态相关接口返回值 

## 2.3.0
  1. 增加获取远程开锁开关状态接口 
  2. 增加设置远程开锁开关状态接口 
  

## 2.2.0
  1. 增加获取锁版本信息接口

## 2.1.1 
  1. 增加部分用户参数判定及相关错误码
  2. 修改调试日志输出文本
  3. 增加部分相关接口输入参数判定
  4. 部分文本调整

## 2.1.0 
  1. 增加梯控功能
  2. 增加锁特征值判断接口
  3. 增加用户参数判定及相关错误码
  4. 增加添加定制智能锁板功能

## 2.0.2
  1. 优化蓝牙交互效率，降低交互时间
  2. 修改调试日志输出文本
  3. 修改断开连接时机

## 2.0.1
  1. 修复调试默认值与文档说明不符的问题

## 2.0.0
  1. 增加密码、IC卡、指纹、闭锁等操作
  2. 修改接口调用参数
  3. 删除开锁时校准锁时间功能

## 1.4.1
  1. 修复部分钥匙在有效期内无法开门的问题
  2. 增加开锁uniqueid返回值

## 1.4.0
  1. 删除开锁必校准锁时间的功能，改为参数控制
  2. 修复校准锁时间时不在有效期内无法校准成功的问题
  3. 新增日志调试控制接口
  4. 删除部分已过期返回值

## 1.3.2
  1. 修改蓝牙开锁、添加智能锁、重置、校准锁时间接口稳定性问题
  2. 调整接口返回参数不规范的问题
  3. 调整接口调用繁琐的问题，具体调用请参考mimiprogran/pages/index.js
  4. 修复接口返回错误码不明确的问题
  5. 部分返回参数将在下个版本不再返回，请及时更新（!!重要）

## 1.3.1
  1. 修复iOS扫描不到设备的问题

## 1.3.0
  1. 修改蓝牙设备扫描接口，修复锁掉线无回调的问题
  2. 修改获取锁类型接口，新增不支持的锁类型接口
  3. 新增停止扫描蓝牙设备接口
  4. 修复校准锁时间返回错误描述为空的问题